<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Air Quality Monitoring</title>
<style>
  * { margin:0; padding:0; box-sizing:border-box; }
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(to right, #0e0f14,#262727,  #d4d3d3);
  color: #fff;
} 
  a { text-decoration: dotted; color:#cbd4d3;padding: 1px;}
  h1, h2, h3 { color:#00d4b8; }
  nav { background:#13141a; padding:2px 0; text-align:center; position:sticky; top:0; z-index:10; }
  nav a { margin:5px; font-weight:bold; }
  section { padding:40px; max-width:1100px; margin: 5px;}
  .btn { display:inline-block; padding:12px ; background:#00d4b8; color:#0e0f14; border-radius:25px; font-weight:bold; transition:background .3s; }
  .btn:hover { background:#00ffa5; }
  header { text-align:center; padding:80px 20px; background:url('air.png') no-repeat center/cover; background-blend-mode: overlay; background-color: rgba(0,0,0,0.6); }
  header h1 { font-size:3rem; margin-bottom:20px; }
  .components, .team { display:flex; flex-wrap:wrap; gap:40px; justify-content:center; }
  .component-card, .team-member { background:#1a1c24; padding:30px; border-radius:15px; width:280px; text-align:center; transition:transform .3s; }
  .component-card:hover, .team-member:hover { transform:translateY(-10px); }
  .component-card img, .team-member img { width:100%; border-radius:10px; }
  .diagram { text-align:center; margin-top:20px; }
  .diagram img { max-width:100%; border-radius:15px; margin-bottom:15px; }
  .video-container { display:flex; justify-content:center; margin-top:20px; }
  .video-container iframe { width:100%; max-width:800px; height:200px; border:none; border-radius:15px; }
  pre { background:#1a1c24; padding:20px; border-radius:15px; overflow-x:auto; white-space:pre-wrap; margin-top:20px; }
  ol { margin-top:15px; padding-left:20px; }
  footer { background:#13141a; padding:30px; text-align:center; }
</style>
</head>
<body>

<header>
  <h1>Smart Air Quality Monitoring</h1>
  <p>Real-time environmental monitoring using IoT-enabled multi-node system</p>
</header>

<nav>
  <a href="#abstract">Abstract</a>
  <a href="#introduction">Introduction</a>
  <a href="#how">Working Principle</a>
  <a href="#components">Sensors & Devices</a>
  <a href="#diagrams">System Diagrams</a>
  <a href="#video">Video</a>
  <a href="#stages">Implementation Stages</a>
  <a href="#future">Future Work</a>
  <a href="#team">Team</a>
  <a href="#arduino">Node & ESP32 Code</a>
  <a href="#contact">Contact</a>
</nav>

<section id="abstract">
  <h2>Project Abstract</h2>
  <p>This project implements a smart air quality monitoring system using two Arduino Nano nodes and an ESP32 gateway. Each node measures CO₂, PM2.5, temperature, and humidity, and sends the data to the ESP32 via I2C. The ESP32 collects data from all nodes, uploads it to Adafruit IO for visualization, and controls alerts independently based on threshold values for each sensor.</p>
</section>

<section id="introduction">
  <h2>Introduction</h2>
  <p>Urban air pollution is a growing concern for public health. Monitoring air quality in real-time allows communities and authorities to take timely action. Traditional monitoring systems are often costly and limited in coverage. This system uses multiple low-cost Arduino nodes, each with environmental sensors, communicating with a central ESP32 gateway to collect and send data to the cloud, enabling real-time alerts and dashboards for effective monitoring.</p>
</section>

<section id="how">
  <h2>Working Principle</h2>
  <p>The system consists of two sensor nodes and an ESP32 gateway:</p>
  <ol>
    <li>Each Arduino Nano node reads environmental parameters: CO₂ (MQ135), PM2.5 (simulated), Temperature & Humidity (DHT22).</li>
    <li>Each node checks if sensor readings exceed predefined thresholds. Alerts are indicated via LEDs and a buzzer if any threshold is exceeded.</li>
    <li>Data from nodes is sent to the ESP32 gateway via I2C communication.</li>
    <li>The ESP32 aggregates data from all nodes, sends it to Adafruit IO for cloud visualization, and independently manages alerts for each node.</li>
    <li>Cloud dashboards display real-time sensor data and trends, allowing remote monitoring and analysis.</li>
  </ol>
</section>

<section id="components">
  <h2>Sensors & Devices</h2>
  <div class="components">
    <div class="component-card">
      <img src="esp.png" alt="ESP32">
      <h3>ESP32 Gateway</h3>
      <p>Central hub collecting data from all Arduino nodes and uploading it to the cloud dashboard.</p>
    </div>
    <div class="component-card">
      <img src="ard.png" alt="Arduino Nano">
      <h3>Arduino Nano Node</h3>
      <p>Each node reads CO₂, PM2.5, temperature, and humidity, and handles local alerts.</p>
    </div>
    <div class="component-card">
      <img src="mq135.png" alt="MQ135">
      <h3>MQ135 Sensor</h3>
      <p>Detects CO₂ concentration and general air quality.</p>
    </div>
    <div class="component-card">
      <img src="dht.png" alt="DHT11">
      <h3>DHT22 Sensor</h3>
      <p>Measures temperature and humidity for each node.</p>
    </div>
    <div class="component-card">
      <img src="leds buzzer.png" alt="LEDs & Buzzer">
      <h3>Alert Indicators</h3>
      <p>LEDs and buzzer notify when any sensor exceeds threshold values.</p>
    </div>
  </div>
</section>

<section id="diagrams">
  <h2>System Diagrams</h2>
  <div class="diagram">
    <img src="" alt="System Architecture Diagram">
    <p>Diagram showing two Arduino Nano nodes sending data to ESP32 gateway, which uploads to cloud dashboards.</p>
  </div>
</section>

<section id="video">
  <h2>Project Video</h2>
  <div class="video-container">
    <iframe src="" title="Project Video" allowfullscreen></iframe>
  </div>
</section>

<section id="stages">
  <h2>Implementation Stages:</h2>
  <ol>
    <li>Hardware Setup: Connect MQ135, DHT22, LEDs, and buzzer to each Arduino Nano node.</li>
    <img src="" alt="first step">
    <li>Node Programming: Writing Arduino code to read sensors, compare thresholds, control LEDs/buzzer, and send data via I2C.</li>
    <h3>node c  Code</h3>
 
  <pre>
#include <SoftwareSerial.h>

SoftwareSerial espSerial(2, 3);  // RX, TX (Nano TX=3 → ESP32 RX2=16; Nano RX=2 ← ESP32 TX2=17)

void setup() {
  Serial.begin(9600);
  espSerial.begin(9600);
  delay(2000);
}

void loop() {
  // Simulated sensor data (replace with actual readings later)
  float co2 = random(400, 900);
  float pm = random(10, 150);
  float temp = random(20, 35);
  float hum = random(40, 80);

  String message = "CO2=" + String(co2) + ";PM=" + String(pm) +
                   ";TEMP=" + String(temp) + ";HUM=" + String(hum);
  espSerial.println(message);

  Serial.println("Sent: " + message);
  delay(3000);
}
  </pre>
</section>
  </pre>
</section>
    <li>ESP32 Programming: Writing code to read data from nodes, upload to Adafruit IO, and manage cloud dashboards.</li>
  
  <h3>esp32gate way code:</h3> 
  <pre> #include <WiFi.h>
#include <WiFiClient.h>
#include "Adafruit_MQTT.h"
#include "Adafruit_MQTT_Client.h"

#define WIFI_SSID "xxxxxx"
#define WIFI_PASS "xxxxx"

#define AIO_SERVER      "io.adafruit.com"
#define AIO_SERVERPORT  1883
#define AIO_USERNAME    "xxxxx"
#define AIO_KEY         "xxxxxxx"

// Define Serial2 pins
#define RXD2 16
#define TXD2 17
HardwareSerial Serial2(2);  // UART2

// Create WiFi client and MQTT client
WiFiClient client;
Adafruit_MQTT_Client mqtt(&client, AIO_SERVER, AIO_SERVERPORT, AIO_USERNAME, AIO_KEY);

// Feeds
Adafruit_MQTT_Publish co2_feed     = Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/co2");
Adafruit_MQTT_Publish pm_feed      = Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/pm25");
Adafruit_MQTT_Publish temp_feed    = Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/temp");
Adafruit_MQTT_Publish humidity_feed= Adafruit_MQTT_Publish(&mqtt, AIO_USERNAME "/feeds/humidity");

void setup() {
  Serial.begin(9600);
  Serial2.begin(9600, SERIAL_8N1, RXD2, TXD2);

  delay(2000);
  Serial.println("Connecting to WiFi...");

  WiFi.begin(WIFI_SSID, WIFI_PASS);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\nWiFi Connected!");
}

void loop() {
  MQTT_connect();

  if (Serial2.available()) {
    String line = Serial2.readStringUntil('\n');
    line.trim();

    if (line.length() > 0) {
      Serial.print("Received: ");
      Serial.println(line);

      float co2 = getValue(line, "CO2=");
      float pm = getValue(line, "PM=");
      float temp = getValue(line, "TEMP=");
      float hum = getValue(line, "HUM=");

      co2_feed.publish(co2);
      pm_feed.publish(pm);
      temp_feed.publish(temp);
      humidity_feed.publish(hum);
    }
  }
}

// ---------- Helper Functions ----------
float getValue(String data, String key) {
  int index = data.indexOf(key);
  if (index == -1) return 0;
  int end = data.indexOf(';', index);
  String val = (end == -1) ? data.substring(index + key.length()) : data.substring(index + key.length(), end);
  return val.toFloat();
}

void MQTT_connect() {
  int8_t ret;
  if (mqtt.connected()) return;

  Serial.print("Connecting to Adafruit IO... ");
  while ((ret = mqtt.connect()) != 0) {
    Serial.println(mqtt.connectErrorString(ret));
    Serial.println("Retrying MQTT connection in 5 seconds...");
    mqtt.disconnect();
    delay(5000);
  }
  Serial.println("MQTT Connected!");
}
</pre>
    <li>Testing: Verify sensor readings, alerts, I2C communication, and cloud data visualization.</li>
    <img src="" alt="fourth step">
    <li>Deployment: Install nodes in target locations for continuous environmental monitoring.</li>
  <img src="" alt="final step">
  </ol>
</section>

<section id="future">
  <h2>Future Work</h2>
  <p>Future improvements include adding more sensors (NO₂, O₃), implementing predictive analytics using machine learning, mobile notifications, and scaling the network to monitor multiple zones in a city for comprehensive environmental analysis.</p>
</section>


<section id="team">
  <h2>Team</h2>
  <div class="team">
    <div class="team-member">
      <img src="emmy.jpg" alt="Team Member">
      <h3>Emelyne.I.Gihozo</h3>
      <p>IoT Engineer</p>
    </div>

    <div class="team-member">
      <img src="rap.png" alt="Team Member">
      <h3>John.p.Niyonizeye</h3>
      <p>System Architect</p>
    </div>
  </div>
</section>

<section id="contact">
  <h2>Contact Us</h2>
  <p>Email: aimalinegihozo@gmail.com</p>
  <p>Phone: +250795611922</p>
  <p>Location: Kigali, Rwanda</p>
  <p>GitHub link:</p> 
  <br><br>
  <a href="https://github.com/Emilycabelano/air-quality" target="_blank" class="btn">View on GitHub</a>
</section>

<footer>
  <p>&copy; 2025 Smart Air Quality Monitoring. All rights reserved.</p>
</footer>

</body>
</html>